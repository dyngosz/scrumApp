extends layout
block content
   .container
      h2.form-register-heading Please register
      form.registerForm(name="adduser", method="post", action="/adduser")
         input.inputName.form-control(type="text", name="username",placeholder='Enter your username here',onBlur="validateName(this.value)")
         p#validname
         input.inputPassword.form-control(type='password', name='userpassword', placeholder='Enter your password here')
         p
         input.inputRepeatPassword.form-control(type='password', name='userrepeatpassword', placeholder='Repeat your password',onBlur="validatePassword(this.value)")
         p#validPass
         table.table-condensed
            thead
               th
                  input.btn.btn-medium.btn-success(type='submit', ng-model='yourSubmit', name='submit', value='Register')
               th
                  a.btn.btn-medium.btn-info(href="/")= "Back"
      if error
         .alert.alert-danger(role='alert')= error

script(type='text/javascript').
  function validateName(val){
    reg = /^[a-zA-ZąćęłńóśżźĄĆĘŁŃÓŚŻŹ]{2,20}$/;
    if (!val.match(reg)){
      document.getElementById("validname").innerHTML = "Enter the correct login";
      adduser.username.select();
    }
    else document.getElementById("validname").innerHTML = "";
  }

  function validatePassword(val){
  var pass =adduser.userpassword.value;
  if((val!=pass) | (val.length==0)){
  document.getElementById("validPass").innerHTML = "Enter the correct password";
  adduser.userpassword.select();
  }
  else document.getElementById("validPass").innerHTML = "";
  }
